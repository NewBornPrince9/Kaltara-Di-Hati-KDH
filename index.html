<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KDH Wallet - Kaltara Di Hati</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; text-align: center; padding: 20px; }
        .wallet-card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); display: inline-block; width: 350px; }
        .logo { width: 100px; margin-bottom: 15px; }
        .status-badge { background: #e8f5e9; color: #2e7d32; padding: 5px 15px; border-radius: 20px; font-size: 11px; font-weight: bold; margin-bottom: 15px; display: inline-block; }
        .address { font-size: 10px; color: #7f8c8d; background: #f8f9fa; padding: 10px; border-radius: 8px; word-break: break-all; margin: 15px 0; border: 1px solid #eee; font-family: monospace; }
        .balance-amount { font-size: 28px; color: #1a237e; font-weight: bold; margin: 5px 0; }
        .btn-group { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        .btn { padding: 12px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; color: white; transition: 0.3s; }
        .input-box { width: 90%; padding: 10px; border-radius: 8px; border: 1px solid #ddd; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="wallet-card">
    <div class="status-badge">● Jaringan BSC Aktif</div>
    <br>
    <img src="logo_kdh.png" alt="Logo KDH" class="logo">
    <h3 style="margin: 0; color: #333;">Dompet Digital KDH</h3>
    
    <div id="walletAddress" class="address">0xC34bbC9cE28Bc74D116a23961083724b5675eEB6</div>
    <p id="walletType" style="font-size: 10px; color: #e67e22; margin-top: -10px;">(Alamat Kas Pusat KDH)</p>
    
    <div style="font-size: 13px; color: #666;">Saldo Anda:</div>
    <div id="walletBalance" class="balance-amount">10.000 KDH</div>
    <div style="font-size: 13px; color: #e67e22; font-weight: 500; margin-bottom: 20px;">≈ $0.00005682 USD</div>

    <div class="btn-group">
        <button class="btn" onclick="createNewWallet()" style="background: #1a237e;">Buat Wallet Baru (Simulasi)</button>
        <div style="display: flex; gap: 10px;">
            <button class="btn" onclick="tampilKirim()" style="background: #27ae60; flex: 1;">Kirim</button>
            <button class="btn" onclick="tampilTerima()" style="background: #3498db; flex: 1;">Terima</button>
        </div>
    </div>

    <div id="formTerima" style="display:none; margin-top: 20px;">
        <p style="font-size: 12px; color: #666;">Scan QR unik dompet ini:</p>
        <img id="qrImage" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=0xC34bbC9cE28Bc74D116a23961083724b5675eEB6" alt="QR KDH">
    </div>
</div>

<script>
    function createNewWallet() {
        // Logika Generate Wallet Blockchain Asli
        const wallet = ethers.Wallet.createRandom();
        
        // Update Tampilan secara Real-time
        document.getElementById('walletAddress').innerText = wallet.address;
        document.getElementById('walletType').innerText = "(Dompet Personal Terenkripsi)";
        document.getElementById('walletType').style.color = "#27ae60";
        document.getElementById('walletBalance').innerText = "0 KDH"; // Wallet baru dimulai dari 0
        
        // Update QR Code secara Dinamis
        const qrUrl = "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" + wallet.address;
        document.getElementById('qrImage').src = qrUrl;
        
        alert("Selamat! Dompet Baru Berhasil Dibuat di Blockchain.\nAlamat: " + wallet.address + "\n\nSimpan alamat ini untuk menerima KDH.");
    }

    function tampilTerima() {
        document.getElementById('formTerima').style.display = 'block';
    }
    
    function tampilKirim() {
        alert("Gunakan fitur ini untuk mengirim KDH dari Kas Pusat ke Dompet Baru yang baru saja dibuat.");
    }
</script>

</body>
</html>
